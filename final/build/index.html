<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final_Build</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="pin-grid">
    <!-- CARD 1 -->
    <div class="pin-card">
    <div class="img-tile-container">
        <img class="img-tile" src="./images/1.jpg" alt="horse riding graphic">

        <!-- overlay -->
        <div class="overlay"></div>

        <!-- saved message -->
        <div class="saved-message">Saved to Board</div>

        <!-- confetti canvas -->
        <canvas class="confetti"></canvas>

        <!-- pin save btn -->
        <div class="icon-btn">
        <img class="pin-icon" src="./images/pin.png" alt="pin icon">
        </div>

        <!-- share btn -->
        <div class="share-btn">
        <img class="share-icon" src="./images/share.png" alt="share icon">
        </div>

        <!-- share popup -->
        <div class="share-popup">
        <div class="share-option">
            <img src="./images/link.jpg" alt="copy link">
            <span>Link</span>
        </div>
        <div class="share-option">
            <img src="./images/insta.png" alt="share to instagram">
            <span>Instagram</span>
        </div>
        <div class="share-option">
            <img src="./images/x.png" alt="share to x">
            <span>X</span>
        </div>
        <div class="share-option">
            <img src="./images/messages.png" alt="share via message">
            <span>Messages</span>
        </div>
        </div>
    </div>

    <!-- card title and option icon -->
    <div class="card-info">
        <p class="title"><span>flower petal</span></p>
        <div class="option-btn">
        <img class="option-icon" src="./images/options.png" alt="options three dot icon">
        <span class="tooltip">More actions</span>
        </div>
    </div>
    </div>


  <!-- CARD 2 -->
  <div class="pin-card">
    <div class="img-tile-container">
      <img class="img-tile" src="./images/2.jpg" alt="camel graphic">

      <!-- overlay -->
      <div class="overlay"></div>

      <!-- saved message -->
      <div class="saved-message">Saved to Board</div>

      <!-- confetti canvas -->
      <canvas class="confetti"></canvas>

      <!-- pin save btn -->
      <div class="icon-btn">
        <img class="pin-icon" src="./images/pin.png" alt="pin icon">
      </div>

      <!-- share btn -->
      <div class="share-btn">
        <img class="share-icon" src="./images/share.png" alt="share icon">
      </div>

        <!-- share popup -->
        <div class="share-popup">
        <div class="share-option">
            <img src="./images/link.jpg" alt="copy link">
            <span>Link</span>
        </div>
        <div class="share-option">
            <img src="./images/insta.png" alt="share to instagram">
            <span>Instagram</span>
        </div>
        <div class="share-option">
            <img src="./images/x.png" alt="share to x">
            <span>X</span>
        </div>
        <div class="share-option">
            <img src="./images/messages.png" alt="share via message">
            <span>Messages</span>
        </div>
        </div>
    </div>

    <!-- card title and option icon -->
    <div class="card-info">
      <p class="title"><span>butterfly tulips</span></p>
      <div class="option-btn">
        <img class="option-icon" src="./images/options.png" alt="options three dot icon">
        <span class="tooltip">More actions</span>
      </div>
    </div>
  </div>

  <!-- CARD 3 -->
  <div class="pin-card">
    <div class="img-tile-container">
      <img class="img-tile" src="./images/3.jpg" alt="monkey cartoon character illustration">

      <!-- overlay -->
      <div class="overlay"></div>

      <!-- saved message -->
      <div class="saved-message">Saved to Board</div>

      <!-- confetti canvas -->
      <canvas class="confetti"></canvas>

      <!-- pin save btn -->
      <div class="icon-btn">
        <img class="pin-icon" src="./images/pin.png" alt="pin icon">
      </div>

      <!-- share btn -->
      <div class="share-btn">
        <img class="share-icon" src="./images/share.png" alt="share icon">
      </div>

        <!-- share popup -->
        <div class="share-popup">
        <div class="share-option">
            <img src="./images/link.jpg" alt="copy link">
            <span>Link</span>
        </div>
        <div class="share-option">
            <img src="./images/insta.png" alt="share to instagram">
            <span>Instagram</span>
        </div>
        <div class="share-option">
            <img src="./images/x.png" alt="share to x">
            <span>X</span>
        </div>
        <div class="share-option">
            <img src="./images/messages.png" alt="share via message">
            <span>Messages</span>
        </div>
        </div>
    </div>

    <!-- card title and option icon -->
    <div class="card-info">
      <p class="title"><span>falling on flowers</span></p>
      <div class="option-btn">
        <img class="option-icon" src="./images/options.png" alt="options three dot icon">
        <span class="tooltip">More actions</span>
      </div>
    </div>
  </div>
</div>


<hr>

<!-- Microinteraction Description -->
    <h1>Final Build</h1>

    <h2>Triggers</h2>
        <ul>
            <h4>Image Tile</h4>
                <li>Hover on</li>
                <li>Hover off</li>

            <h4>Image Tile Text Title</h4>
                <li>Hover on</li>
                <li>Hover off</li>

            <h4>Share Button</h4>
                <li>Hover on</li>
                <li>Hover off</li>
                <li>Click on</li>
                <li>Click off</li>

            <h4>More Actions Button</h4>
                <li>Hover on</li>
                <li>Hover off</li>

            <h4>Pin Button</h4>
                <li>Click on</li>
        </ul>

    <hr>

    <h2>Rules</h2>
        <ul>
        <div class="space">
            <h4>Hover On Image Tile</h4>
                <li>Cursor turns to pointer</li>
                <li>Dark transparent overlay fades in over 0.3 seconds on top of the image</li>
                <li>Share icon button appears on the bottom right of the image tile over 0.3 seconds</li>

            <h4>Hover Off Image Tile</h4>
                <li>Pointer turns back to cursor</li>
                <li>Dark transparent overlay fades off over 0.3 seconds</li>
                <li>Share icon button disappears over 0.3 seconds</li>
        </div>

        <div class="space">
            <h4>Hover On Image Tile Text Title</h4>
                <li>Text plays a shine glimmer effect from left to right over 1 second</li>

            <h4>Hover Off Image Tile Text Title</h4>
                <li>Text shine glimmer effect stops</li>
        </div>

        <div class="space">
            <h4>Hover On Share Button</h4>
                <li>Change button background color to #DAF0FF over 0.25 seconds</li>
                <li>Increase the scale (size) of the share icon over 0.25 seconds</li>

            <h4>Hover Off Share Button</h4>
                <li>Reset button background color to #EFEFEF over 0.25 seconds</li>
                <li>Reset share icon scale to default over 0.25 seconds</li>
        </div>

        <div class="space">
            <h4>Click On Share Button</h4>
                <li>Share button decrease in scale and resets back to default scale over 0.25 seconds</li>
                <li>Popup appears and displays different app options over 0.25 seconds</li>

            <h4>Click Off Share Button</h4>
                <li>Share button decrease in scale and resets back to default scale over 0.25 seconds</li>
                <li>Popup disappears over 0.25 seconds</li>
        </div>

        <div class="space">
            <h4>Hover On More Actions Button</h4>
                <li>Change button background color to #DAF0FF over 0.2s seconds</li>
                <li>Increase the scale of the icon over 0.2s seconds</li>
                <li>Tooltip “More actions” fades in from top to bottom over 0.2 seconds</li>

            <h4>Hover Off More Actions Button</h4>
                <li>Reset button background color to #EFEFEF over 0.2s seconds</li>
                <li>Reset icon scale to default over 0.2s seconds</li>
                <li>Tooltip “More actions” fades off from bottom to top over 0.2 seconds</li>
        </div>

        <div class="space">
            <h4>Click On Pin Button</h4>
                <li>Database is updated</li>
                <li>Pin icon changes from pin icon to checkmark icon</li>
                <li>Checkmark icon and button scales up and turns back to its default scale (0.15 seconds)</li>
                <li>Pin button background changes to color #DAF0FF temporarily (lasts 0.9 seconds)</li>
                <li>“Saved to Board” message fades in centered above the image (0.2 seconds fade-in)</li>
                <li>Confetti animation launches inside the image (0.8 seconds total, fade-out at 0.6 seconds)</li>
                <ul class="left-marg">
                <li>After 0.9 seconds: 
                    <ul>
                        <li>“Saved to Board” message fades out (0.2 seconds)</li>
                        <li>Confetti fully disappears (final clear at 0.8 seconds)</li>
                        <li>Pin button background reverts to default color #EFEFEF</li>
                        <li>Checkmark remains on the icon</li>
                    </ul>
                </li>
                </ul>
        </div>
        </ul>

    <hr>

    <h2>Feedback</h2>
        <ul>
        <div class="space">
            <h4>Hover On Image Tile</h4>
                <li>Cursor turns to pointer</li>
                <li>Dark transparent overlay fades in over 0.3 seconds on top of the image</li>
                <li>Share icon button appears on the bottom right of the image tile over 0.3 seconds</li>

            <h4>Hover Off Image Tile</h4>
                <li>Pointer turns back to cursor</li>
                <li>Dark transparent overlay fades off over 0.3 seconds</li>
                <li>Share icon button disappears over 0.3 seconds</li>
        </div>

        <div class="space">
            <h4>Hover On Image Tile Text Title</h4>
                <li>Text plays a shine glimmer effect from left to right over 1 second</li>

            <h4>Hover Off Image Tile Text Title</h4>
                <li>Text shine glimmer effect stops</li>
        </div>

        <div class="space">
            <h4>Hover On Share Button</h4>
                <li>Change button background color to #DAF0FF over 0.25 seconds</li>
                <li>Increase the scale (size) of the share icon over 0.25 seconds</li>

            <h4>Hover Off Share Button</h4>
                <li>Reset button background color to #EFEFEF over 0.25 seconds</li>
                <li>Reset share icon scale to default over 0.25 seconds</li>
        </div>

        <div class="space">
            <h4>Click On Share Button</h4>
                <li>Share button decrease in scale and resets back to default scale over 0.25 seconds</li>
                <li>Popup appears and displays different app options over 0.25 seconds</li>

            <h4>Click Off Share Button</h4>
                <li>Share button decrease in scale and resets back to default scale over 0.25 seconds</li>
                <li>Popup disappears over 0.25 seconds</li>
        </div>

        <div class="space">
            <h4>Hover On More Actions Button</h4>
                <li>Change button background color to #DAF0FF over 0.2s seconds</li>
                <li>Increase the scale of the icon over 0.2s seconds</li>
                <li>Tooltip “More actions” fades in from top to bottom over 0.2 seconds</li>

            <h4>Hover Off More Actions Button</h4>
                <li>Reset button background color to #EFEFEF over 0.2s seconds</li>
                <li>Reset icon scale to default over 0.2s seconds</li>
                <li>Tooltip “More actions” fades off from bottom to top over 0.2 seconds</li>
        </div>

        <div class="space">
            <h4>Click On Pin Button</h4>
                <li>Pin icon changes from pin icon to checkmark icon</li>
                <li>Checkmark icon and button scales up and turns back to its default scale (0.15 seconds)</li>
                <li>Pin button background changes to color #DAF0FF temporarily (lasts 0.9 seconds)</li>
                <li>“Saved to Board” message fades in centered above the image (0.2 seconds fade-in)</li>
                <li>Confetti animation launches inside the image (0.8 seconds total, fade-out at 0.6 seconds)</li>
                
                <ul class="left-marg">
                <li>After 0.9 seconds: 
                    <ul>
                        <li>“Saved to Board” message fades out (0.2 seconds)</li>
                        <li>Confetti fully disappears (final clear at 0.8 seconds)</li>
                        <li>Pin button background reverts to default color #EFEFEF</li>
                        <li>Checkmark remains on the icon</li>
                    </ul>
                </li>
                </ul>
        </div>
        </ul>

    <hr>

    <h2>Loops & Modes</h2>
        <ul>
            <h4>Modes</h4>
                <li>Pin Button Default Mode</li>
                    <ul>
                        <li>Button shows pin icon</li>
                        <li>Pin button background is the default grey color #EFEFEF</li>
                        <li>“Saved to Board” message is hidden</li>
                    </ul>

                <li>Pin Button Saved Mode</li>
                    <ul>
                        <li>Button shows checkmark icon</li>
                        <li>Pin button background turns #DAF0FF temporarily</li>
                        <li>“Saved to Board” message appears briefly over 0.2 seconds</li>
                        <li>Confetti animation runs and fades over 0.9 seconds</li>
                    </ul>

            <h4>No loops</h4>

        </ul>
<!-- Microinteraction Description -->

</body>
</html>


<!-- JAVASCRIPT FOR CONFETTI AND SAVED POPUP -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
    const cards = document.querySelectorAll(".pin-card");

    cards.forEach(card => {
        const pinBtn = card.querySelector(".icon-btn");
        const confettiCanvas = card.querySelector(".confetti");

        pinBtn.addEventListener("click", () => {
        if (card.classList.contains("saved")) return;

        card.classList.add("saved");

        const pinIcon = pinBtn.querySelector(".pin-icon");
        pinIcon.src = "./images/check.png";

        launchConfetti(confettiCanvas);

            setTimeout(() => {
            card.classList.remove("saved");
            const ctx = confettiCanvas.getContext('2d');
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            }, 900);
        });
    });

    function launchConfetti(canvas) {
    const ctx = canvas.getContext("2d");
    const w = canvas.width = canvas.offsetWidth;
    const h = canvas.height = canvas.offsetHeight;
  
    const pieces = Array.from({ length: 40 }, () => ({
        x: Math.random() * w,
        y: Math.random() * h - h / 2,
        width: Math.random() * 4 + 2,
        height: Math.random() * 10 + 6,
        color: "#EFEFEF",   
        speedX: (Math.random() - 0.5) * 3,
        speedY: Math.random() * 3 + 2,
        rotation: Math.random() * 2 * Math.PI,
        rotationSpeed: (Math.random() - 0.5) * 0.2,
        alpha: 0.3,
    }));

    const duration = 800;
    const fadeStart = 600;
    const startTime = performance.now();

    function update(time) {
        const elapsed = time - startTime;
        ctx.clearRect(0, 0, w, h);

        pieces.forEach(p => {
        p.x += p.speedX;
        p.y += p.speedY;
        p.rotation += p.rotationSpeed;

        if (elapsed > fadeStart) {
            const fadeProgress = (elapsed - fadeStart) / (duration - fadeStart);
            p.alpha = Math.max(0, 0.3 * (1 - fadeProgress));
        }

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rotation);
        ctx.globalAlpha = p.alpha;
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.width / 2, -p.height / 2, p.width, p.height);
        ctx.restore();
        });

        if (elapsed < duration) {
        requestAnimationFrame(update);
        } else {
        ctx.clearRect(0, 0, w, h);
        }
    }

    requestAnimationFrame(update);
    }
});

    document.addEventListener('click', function (e) {
    const shareBtn = e.target.closest('.share-btn');
    const allPopups = document.querySelectorAll('.share-popup');

    if (shareBtn) {
        const popup = shareBtn.parentElement.querySelector('.share-popup');
        const pinCard = shareBtn.closest('.pin-card');
        const isOpen = popup.classList.contains('show-popup');

        // close all popups first
        allPopups.forEach(p => p.classList.remove('show-popup'));

        // toggle current one
        if (!isOpen) {
        popup.classList.add('show-popup');
        }

        // add scaling animation for share button
        shareBtn.classList.add('clicked');
        setTimeout(() => shareBtn.classList.remove('clicked'), 150);

        // hide popup when hovering off the pin card
        pinCard.addEventListener('mouseleave', () => {
        popup.classList.remove('show-popup');
        });

        e.stopPropagation();
    }
    });
</script>